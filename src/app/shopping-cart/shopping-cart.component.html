<div class="container-fluid p-0">
  <picture>
    <img src="/cart.png" class="w-100" style="min-height: 100px; max-height:300px ; object-fit:cover; object-position:center;" alt="cart Banner">
  </picture>
</div>

<section class="h-100 h-custom">
  <div class="container h-100 py-5">
    <div class="row d-flex justify-content-center align-items-start h-100">
      
      <div class="col-12 col-lg-8 mb-4">
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th scope="col" class="h5">Shopping Cart</th>
                <th scope="col">Quantity</th>
                <th scope="col">Price</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of cartItems">
                <th scope="row">
                  <div class="d-flex align-items-center">
                    <img [routerLink]="['/products/',item.id]" [src]="item.imgUrl"
                        class="img-fluid item-img rounded-3" style="width: 120px;" alt="Book">
                    <div class="flex-column ms-4">
                      <p class="mb-2 tabs-font-family">{{item.title}}</p>
                      <p class="mb-0 tabs-font tabs-font-family">{{item.author}}</p>
                    </div>
                  </div>
                </th>
                <td class="align-middle">
                  <div class="d-flex flex-row">
                    <button (click)="decrementItem(item)" class="btn px-2">
                      <i class="bi bi-dash-lg"></i>
                    </button>
                    <input id="form" min="0" name="quantity" [value]="item.quantity" disabled type="number"
                          class="form-control form-control-sm text-center" />
                    <button (click)="incrementItem(item)" class="btn px-2">
                      <i class="bi bi-plus-lg fs-8"></i>
                    </button>
                  </div>
                </td>
                <td class="align-middle">
                  <p class="mb-0 fw-bold">{{item.price | currency:'EGP'}}</p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="col-12 col-lg-4 sticky-top">
        <div class="card shadow-2-strong mb-5 mb-lg-0">
          <div class="card-body p-4">
            <div class="d-flex justify-content-between">
              <p class="mb-2 tabs-font tabs-font-family">Subtotal</p>
              <p class="mb-2 tabs-font-family">{{totalPrice | currency:'EGP'}}</p>
            </div>
            <div class="d-flex justify-content-between fw-medium">
              <p class="mb-0 tabs-font tabs-font-family">Shipping</p>
              <p class="mb-0 tabs-font-family">EGP50</p>
            </div>
            <hr class="my-4">
            <div class="d-flex justify-content-between mb-4 fw-medium">
              <p class="mb-2 tabs-font tabs-font-family">Total</p>
              <p class="mb-2 tabs-font-family">{{totalPrice + 50 | currency:'EGP'}}</p>
            </div>
            <button routerLink="/check-out" type="button" class="btn btn-primary w-100">
              <div class="d-flex justify-content-between">
                <span class="tabs-font-family">Checkout</span>
                <span>{{totalPrice + 50 | currency:'EGP'}}</span>
              </div>
            </button>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>